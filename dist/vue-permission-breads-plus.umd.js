(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue")):typeof define=="function"&&define.amd?define(["vue"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.vuePermissionBreadsPlus=s(e.Vue))})(this,function(e){"use strict";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */var s;(function(n){n.pop="pop",n.push="push"})(s||(s={}));var u;(function(n){n.back="back",n.forward="forward",n.unknown=""})(u||(u={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var h;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(h||(h={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const w=Symbol(process.env.NODE_ENV!=="production"?"router":""),C=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function V(){return e.inject(w)}function O(){return e.inject(C)}const I="",D={class:"vue-permission-breads-plus"},_={class:"left"},L=["onClick"],x={key:0},J=[{__name:"index",props:{menu:{type:Array,default:()=>[]},i18n:{type:Boolean,default:!1},positionTitle:{type:String,default:"\u6211\u7684\u4F4D\u7F6E"},backTitle:{type:String,default:"\u8FD4\u56DE"},backIconPosition:{type:String,default:"left"},backBtnClass:{type:String,default:"el/ArrowLeft"}},setup(n){const f=n,B=V(),y=O(),E=e.ref(!1),i=e.ref([]);let d=e.ref([]);e.watch(()=>f.menu,()=>{b()});const k=(l,o)=>new Promise(a=>{l.forEach(t=>{t.name===o?a(t):t.children.length>0&&k(t.children,o).then(r=>{a(r)})})}),g=(l,o)=>{let a=[];o&&(a=[...o.nameList],a.push(o)),l.forEach(t=>{t.nameList=a,t.children&&t.children.length>0?g(t.children,JSON.parse(JSON.stringify(t))):t.children=[]})},N=l=>(l=JSON.parse(JSON.stringify(l)),l.forEach(o=>{if(o.replaceIndex!==!0)if(o.parents){let a=o.parents.split("/");a.forEach((t,r)=>{k(JSON.parse(JSON.stringify(d.value)),t).then(p=>{p.replaceIndex!==!0&&o.nameList.push(p),r+1===a.length&&o.nameList.push(o)})})}else o.nameList.push(o);o.children.length>0&&(o.children=[...N(o.children)])}),l);e.watch(y,()=>{S()});const S=()=>{k(d.value,y.name).then(l=>{i.value=l.nameList,E.value=i.value[i.value.length-1].showBackBtn||!1})},b=()=>{d.value=JSON.parse(JSON.stringify(f.menu)),g(d.value),d.value=[...N(d.value)],S()};b();const P=()=>{B.back()},T=l=>{B.push({name:l.name})},c=e.ref(f.backBtnClass.split("/"));return(l,o)=>{const a=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",D,[e.createElementVNode("div",_,[e.createTextVNode(e.toDisplayString(n.i18n?l.$t(n.positionTitle):n.positionTitle)+"\uFF1A ",1),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t,r)=>(e.openBlock(),e.createElementBlock("li",{key:r,onClick:p=>r===i.value.length-1||T(t)},[e.createTextVNode(e.toDisplayString(n.i18n?l.$t(t.title):t.title)+" ",1),r!==i.value.length-1?(e.openBlock(),e.createElementBlock("span",x,">")):e.createCommentVNode("",!0)],8,L))),128))])]),E.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"back",onClick:P},[n.backIconPosition==="left"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[c.value[0]==="el"?(e.openBlock(),e.createBlock(a,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.value[1])))]),_:1})):c.value[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+c.value[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(c.value[0])},e.toDisplayString(c.value[1]),3))],64)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?l.$t(n.backTitle):n.backTitle)+" ",1),n.backIconPosition==="right"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[c.value[0]==="el"?(e.openBlock(),e.createBlock(a,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.value[1])))]),_:1})):c.value[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+c.value[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(c.value[0])},e.toDisplayString(c.value[1]),3))],64)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}],m={install(n){J.forEach(f=>{n.component("vuePermissionBreadsPlus",f)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(m),m});
