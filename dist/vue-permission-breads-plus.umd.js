(function(e,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue"),require("vue-router")):typeof define=="function"&&define.amd?define(["vue","vue-router"],a):(e=typeof globalThis<"u"?globalThis:e||self,e.vuePermissionBreadsPlus=a(e.Vue,e.vueRouter))})(this,function(e,a){"use strict";const f={__name:"icon",props:{iconObj:{type:Object,requured:!0}},setup(n){return(r,m)=>{const s=e.resolveComponent("el-icon");return n.iconObj.type==="custom"?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.iconObj.icon),e.normalizeProps(e.mergeProps({key:0},n.iconObj.attrs)),null,16)):n.iconObj.type==="el"?(e.openBlock(),e.createBlock(s,e.normalizeProps(e.mergeProps({key:1},n.iconObj.attrs)),{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.iconObj.icon)))]),_:1},16)):n.iconObj.type==="iconfont"?(e.openBlock(),e.createElementBlock("i",e.mergeProps({key:2,class:["icon iconfont","icon-"+n.iconObj.icon]},n.iconObj.attrs),null,16)):(e.openBlock(),e.createElementBlock("i",e.mergeProps({key:3,class:n.iconObj.type},n.iconObj.attrs),e.toDisplayString(n.iconObj.icon),17))}}},T="",j={class:"left"},V=["onClick"],E=[{__name:"index",props:{menu:{type:Array,default:()=>[]},hideMenuIcon:{type:Boolean,default:!1},spaceIcon:{type:Object,default:()=>({icon:"＜"})},i18n:{type:Boolean,default:!1},simpleMode:{type:Boolean,default:!1},positionTitle:{type:String,default:"我的位置"},backTitle:{type:String,default:"返回"},backIconPosition:{type:String,default:"left"},backBtn:{type:Object,default:()=>({})}},setup(n){const r=n,m=a.useRouter(),s=a.useRoute(),y=e.ref(!1),i=e.ref([]);let B=[],d=[];const u=t=>{let o=t instanceof Array?[]:{};for(let c in t)o[c]=typeof t[c]=="object"?u(t[c]):t[c];return o},k=t=>({name:t.name,title:t.title,icon:t.icon,replaceIndex:t.replaceIndex||!1,showBackBtn:t.showBackBtn||!1});e.watch(()=>r.menu,()=>{C()});const g=t=>B.filter(o=>o.name===t)[0],b=(t,o)=>{t.forEach(c=>{let l=[];o&&(l=[...o.nameList],l.push(k(o))),c.nameList=l,c.children&&c.children.length>0?b(c.children,c):c.children=[],B.push(c)})},p=t=>{t.forEach(o=>{o.parents&&(o.nameList=[],o.parents.split("/").forEach(l=>{const w=g(l);o.nameList.push(k(w))})),o.replaceIndex!==!0&&o.nameList.push(k(o)),o.children.length>0&&p(o.children)})};e.watch(s,()=>{O()});const O=()=>{const t=g(s.name);i.value=[...t.nameList],y.value=i.value[i.value.length-1].showBackBtn||!1},C=()=>{d=u(r.menu),B=[],d.length>0&&(b(d),p(d),O())};C();const I=()=>{m.back()},P=t=>{m.push({name:t.name})};return(t,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vue-permission-breads-plus",n.simpleMode?"simple":""])},[e.createElementVNode("div",j,[n.simpleMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(n.i18n?t.$t(n.positionTitle):n.positionTitle)+"： ",1)],64)),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i),(c,l)=>(e.openBlock(),e.createElementBlock("li",{key:l,onClick:w=>l===e.unref(i).length-1||P(c)},[!n.hideMenuIcon&&c.icon&&(c.icon.icon||c.icon.type)?(e.openBlock(),e.createBlock(f,{key:0,class:"menu-icon",iconObj:c.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?t.$t(c.title):c.title)+" ",1),l!==e.unref(i).length-1&&(n.spaceIcon.icon||n.spaceIcon.type)?(e.openBlock(),e.createBlock(f,{key:1,class:"space-icon",iconObj:n.spaceIcon},null,8,["iconObj"])):e.createCommentVNode("",!0)],8,V))),128))])]),!n.simpleMode&&e.unref(y)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["back",n.backIconPosition==="right"?"icon-right":"icon-left"]),onClick:I},[n.backIconPosition==="right"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(n.i18n?t.$t(n.backTitle):n.backTitle),1)],64)):e.createCommentVNode("",!0),n.backBtn.icon||n.backBtn.type?(e.openBlock(),e.createBlock(f,{key:1,iconObj:n.backBtn},null,8,["iconObj"])):e.createCommentVNode("",!0),n.backIconPosition==="left"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode(e.toDisplayString(n.i18n?t.$t(n.backTitle):n.backTitle),1)],64)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)],2))}}],h={install(n){E.forEach(r=>{n.component("vuePermissionBreadsPlus",r)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(h),h});
